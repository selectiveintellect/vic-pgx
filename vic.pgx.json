{
   "+grammar" : "vic",
   "+toprule" : "program",
   "+version" : "0.1.0",
   "COMMA" : {
      ".rgx" : ","
   },
   "DOLLAR" : {
      ".rgx" : "\\$"
   },
   "EOS" : {
      ".rgx" : "\\z"
   },
   "_" : {
      ".rgx" : "[\\ \\t]*"
   },
   "__" : {
      ".rgx" : "[\\ \\t]+"
   },
   "anonymous_block" : {
      ".all" : [
         {
            ".ref" : "start_block"
         },
         {
            "+min" : 0,
            ".ref" : "statement"
         },
         {
            ".ref" : "end_block"
         }
      ]
   },
   "any_conditional" : {
      ".any" : [
         {
            ".ref" : "single_conditional"
         },
         {
            ".ref" : "nested_conditional"
         }
      ]
   },
   "assert_comparison" : {
      ".all" : [
         {
            ".ref" : "assert_value"
         },
         {
            ".ref" : "compare_operator"
         },
         {
            ".ref" : "assert_value"
         }
      ]
   },
   "assert_condition" : {
      ".ref" : "assert_comparison"
   },
   "assert_statement" : {
      ".all" : [
         {
            ".ref" : "name"
         },
         {
            ".ref" : "assert_condition"
         },
         {
            ".ref" : "_"
         },
         {
            "+max" : 1,
            ".all" : [
               {
                  ".ref" : "COMMA"
               },
               {
                  ".ref" : "_"
               },
               {
                  ".ref" : "string"
               }
            ]
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "line_ending"
         }
      ]
   },
   "assert_value" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".any" : [
               {
                  ".ref" : "validated_variable"
               },
               {
                  ".ref" : "variable"
               },
               {
                  ".ref" : "number"
               }
            ]
         },
         {
            ".ref" : "_"
         }
      ]
   },
   "assign_expr" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".ref" : "variable"
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "assign_operator"
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "rhs_expr"
         }
      ]
   },
   "assign_operator" : {
      ".any" : [
         {
            ".rgx" : "([\\+\\-%\\^\\*\\|&/]?=)"
         },
         {
            ".ref" : "shift_assign_operator"
         }
      ]
   },
   "bit_operator" : {
      ".rgx" : "([\\|\\^&])"
   },
   "blank_line" : {
      ".rgx" : "[\\ \\t]*\\r?\\n"
   },
   "block" : {
      ".ref" : "named_block"
   },
   "boolean" : {
      ".rgx" : "(TRUE|FALSE|true|false|0|1)"
   },
   "comment" : {
      ".any" : [
         {
            ".rgx" : "[\\ \\t]*\\#.*\\r?\\n"
         },
         {
            ".ref" : "blank_line"
         }
      ]
   },
   "compare_operator" : {
      ".rgx" : "([!=<>]=|(?:<|>))"
   },
   "comparison" : {
      ".all" : [
         {
            ".ref" : "expr_value"
         },
         {
            ".ref" : "compare_operator"
         },
         {
            ".ref" : "expr_value"
         }
      ]
   },
   "complement" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".ref" : "complement_operator"
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "rhs_expr"
         },
         {
            ".ref" : "_"
         }
      ]
   },
   "complement_operator" : {
      ".rgx" : "(\\~|!)"
   },
   "conditional_predicate" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".ref" : "anonymous_block"
         },
         {
            ".ref" : "_"
         },
         {
            "+max" : 1,
            ".all" : [
               {
                  ".rgx" : "else"
               },
               {
                  ".ref" : "_"
               },
               {
                  "+min" : 0,
                  ".any" : [
                     {
                        ".ref" : "anonymous_block"
                     },
                     {
                        ".ref" : "conditional_statement"
                     }
                  ]
               }
            ]
         },
         {
            ".ref" : "_"
         }
      ]
   },
   "conditional_statement" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".rgx" : "(if|while)"
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "conditional_subject"
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "conditional_predicate"
         },
         {
            "+max" : 1,
            ".ref" : "line_ending"
         }
      ]
   },
   "conditional_subject" : {
      ".any" : [
         {
            ".ref" : "single_conditional_subject"
         },
         {
            ".ref" : "nested_conditional_subject"
         }
      ]
   },
   "double_quoted_string" : {
      ".rgx" : "(?:\"((?:[^\\n\\\\\"]|\\\\\"|\\\\\\\\|\\\\[0nt])*?)\")"
   },
   "end_block" : {
      ".rgx" : "[\\ \\t]*\\}[\\ \\t]*\\r?\\n?"
   },
   "end_nested_expr" : {
      ".rgx" : "[\\ \\t]*\\)[\\ \\t]*"
   },
   "expr_value" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".any" : [
               {
                  ".ref" : "number"
               },
               {
                  ".ref" : "variable"
               },
               {
                  ".ref" : "number_units"
               },
               {
                  ".ref" : "complement"
               },
               {
                  ".ref" : "modifier_variable"
               },
               {
                  ".ref" : "nested_expr_value"
               }
            ]
         },
         {
            ".ref" : "_"
         }
      ]
   },
   "expression" : {
      ".all" : [
         {
            ".any" : [
               {
                  ".ref" : "assign_expr"
               },
               {
                  ".ref" : "unary_expr"
               }
            ]
         },
         {
            ".ref" : "line_ending"
         }
      ]
   },
   "header" : {
      ".any" : [
         {
            ".ref" : "pragmas"
         },
         {
            ".ref" : "comment"
         }
      ]
   },
   "identifier" : {
      ".rgx" : "([a-zA-Z][0-9A-Za-z_]*)"
   },
   "identifier_without_keyword" : {
      ".rgx" : "(?!if|else|while|true|false|TRUE|FALSE)([a-zA-Z][0-9A-Za-z_]*)"
   },
   "instruction" : {
      ".all" : [
         {
            ".ref" : "name"
         },
         {
            ".ref" : "values"
         },
         {
            ".ref" : "line_ending"
         }
      ]
   },
   "line_ending" : {
      ".rgx" : "[\\ \\t]*;[\\ \\t]*\\r?\\n?"
   },
   "logic_operator" : {
      ".rgx" : "([&\\|]{2})"
   },
   "math_operator" : {
      ".rgx" : "([\\+\\-\\*/%])"
   },
   "modifier_variable" : {
      ".all" : [
         {
            ".ref" : "identifier_without_keyword"
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "variable"
         }
      ]
   },
   "name" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".ref" : "identifier_without_keyword"
         },
         {
            ".ref" : "_"
         }
      ]
   },
   "named_block" : {
      ".all" : [
         {
            ".ref" : "name"
         },
         {
            ".ref" : "anonymous_block"
         }
      ]
   },
   "nested_conditional" : {
      ".all" : [
         {
            ".ref" : "start_nested_expr"
         },
         {
            ".ref" : "single_conditional"
         },
         {
            ".ref" : "end_nested_expr"
         }
      ]
   },
   "nested_conditional_subject" : {
      ".all" : [
         {
            ".ref" : "start_nested_expr"
         },
         {
            ".ref" : "single_conditional_subject"
         },
         {
            ".ref" : "end_nested_expr"
         }
      ]
   },
   "nested_expr_value" : {
      ".all" : [
         {
            ".ref" : "start_nested_expr"
         },
         {
            ".ref" : "rhs_expr"
         },
         {
            ".ref" : "end_nested_expr"
         }
      ]
   },
   "number" : {
      ".any" : [
         {
            ".rgx" : "(0[xX][0-9a-fA-F]+|-?[0-9]+)"
         },
         {
            ".ref" : "boolean"
         }
      ]
   },
   "number_units" : {
      ".all" : [
         {
            ".ref" : "number"
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "units"
         }
      ]
   },
   "pragma_expression" : {
      ".all" : [
         {
            ".ref" : "name"
         },
         {
            ".rgx" : "=[\\ \\t]*"
         },
         {
            ".any" : [
               {
                  ".ref" : "number_units"
               },
               {
                  ".ref" : "number"
               },
               {
                  ".ref" : "string"
               }
            ]
         },
         {
            ".ref" : "_"
         }
      ]
   },
   "pragmas" : {
      ".all" : [
         {
            ".rgx" : "pragma"
         },
         {
            ".ref" : "__"
         },
         {
            ".any" : [
               {
                  ".ref" : "variable"
               },
               {
                  ".ref" : "name"
               }
            ]
         },
         {
            "+max" : 1,
            ".any" : [
               {
                  ".ref" : "pragma_expression"
               },
               {
                  ".ref" : "name"
               }
            ]
         },
         {
            ".ref" : "line_ending"
         }
      ]
   },
   "program" : {
      ".all" : [
         {
            ".ref" : "uc_select"
         },
         {
            "+min" : 0,
            ".ref" : "header"
         },
         {
            "+min" : 0,
            ".ref" : "statement"
         },
         {
            ".ref" : "EOS"
         }
      ]
   },
   "rhs_expr" : {
      "+min" : 1,
      ".ref" : "expr_value",
      ".sep" : {
         ".ref" : "rhs_operator"
      }
   },
   "rhs_operator" : {
      ".any" : [
         {
            ".ref" : "math_operator"
         },
         {
            ".ref" : "bit_operator"
         },
         {
            ".ref" : "shift_operator"
         }
      ]
   },
   "shift_assign_operator" : {
      ".rgx" : "(<<=|>>=)"
   },
   "shift_operator" : {
      ".rgx" : "(<<|>>)"
   },
   "single_conditional" : {
      ".any" : [
         {
            ".ref" : "comparison"
         },
         {
            ".ref" : "expr_value"
         }
      ]
   },
   "single_conditional_subject" : {
      "+min" : 1,
      ".ref" : "any_conditional",
      ".sep" : {
         ".ref" : "logic_operator"
      }
   },
   "single_quoted_string" : {
      ".rgx" : "(?:'((?:[^\\n\\\\']|\\\\'|\\\\\\\\)*?)')"
   },
   "start_block" : {
      ".rgx" : "[\\ \\t]*\\{[\\ \\t]*\\r?\\n?"
   },
   "start_nested_expr" : {
      ".rgx" : "[\\ \\t]*\\([\\ \\t]*"
   },
   "statement" : {
      ".any" : [
         {
            ".ref" : "comment"
         },
         {
            ".ref" : "instruction"
         },
         {
            ".ref" : "expression"
         },
         {
            ".ref" : "conditional_statement"
         },
         {
            ".ref" : "assert_statement"
         },
         {
            ".ref" : "block"
         }
      ]
   },
   "string" : {
      ".any" : [
         {
            ".ref" : "single_quoted_string"
         },
         {
            ".ref" : "double_quoted_string"
         }
      ]
   },
   "uc_select" : {
      ".rgx" : "PIC[\\ \\t]+((?i:P16F690|P16F690X))[\\ \\t]*;[\\ \\t]*\\r?\\n?"
   },
   "unary_expr" : {
      ".any" : [
         {
            ".ref" : "unary_lhs"
         },
         {
            ".ref" : "unary_rhs"
         }
      ]
   },
   "unary_lhs" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".ref" : "unary_operator"
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "variable"
         },
         {
            ".ref" : "_"
         }
      ]
   },
   "unary_operator" : {
      ".rgx" : "(\\+\\+|\\-\\-)"
   },
   "unary_rhs" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".ref" : "variable"
         },
         {
            ".ref" : "_"
         },
         {
            ".ref" : "unary_operator"
         },
         {
            ".ref" : "_"
         }
      ]
   },
   "units" : {
      ".rgx" : "(s|ms|us|kHz|Hz|MHz)"
   },
   "validated_variable" : {
      ".ref" : "identifier_without_keyword"
   },
   "value" : {
      ".all" : [
         {
            ".ref" : "_"
         },
         {
            ".any" : [
               {
                  ".ref" : "string"
               },
               {
                  ".ref" : "number_units"
               },
               {
                  ".ref" : "number"
               },
               {
                  ".ref" : "variable"
               },
               {
                  ".ref" : "named_block"
               },
               {
                  ".ref" : "validated_variable"
               },
               {
                  ".ref" : "modifier_variable"
               }
            ]
         },
         {
            ".ref" : "_"
         }
      ]
   },
   "values" : {
      "+min" : 0,
      ".ref" : "value",
      ".sep" : {
         ".ref" : "COMMA"
      }
   },
   "variable" : {
      ".all" : [
         {
            ".ref" : "DOLLAR"
         },
         {
            ".ref" : "identifier"
         }
      ]
   }
}
