{
   "+grammar" : "vic",
   "+toprule" : "program",
   "+version" : "0.0.4",
   "DOLLAR" : {
      ".rgx" : "\\$"
   },
   "EOL" : {
      ".rgx" : "\\r?\\n"
   },
   "EOS" : {
      ".rgx" : "\\z"
   },
   "EQUAL" : {
      ".rgx" : "="
   },
   "LCURLY" : {
      ".rgx" : "\\{"
   },
   "RCURLY" : {
      ".rgx" : "\\}"
   },
   "SEMI" : {
      ".rgx" : ";"
   },
   "blank_line" : {
      ".all" : [
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".rgx" : "\\r?\\n"
         }
      ]
   },
   "block" : {
      ".all" : [
         {
            ".ref" : "start_block"
         },
         {
            "+min" : 0,
            ".ref" : "statement"
         },
         {
            ".ref" : "end_block"
         }
      ]
   },
   "comment" : {
      ".any" : [
         {
            ".rgx" : "[\\ \\t]*\\#.*\\r?\\n"
         },
         {
            ".ref" : "blank_line"
         }
      ]
   },
   "config_expression" : {
      ".all" : [
         {
            ".ref" : "name"
         },
         {
            ".ref" : "EQUAL"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".any" : [
               {
                  ".ref" : "number_units"
               },
               {
                  ".ref" : "number"
               }
            ]
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         }
      ]
   },
   "double_quoted_string" : {
      ".rgx" : "(?:\"((?:[^\\n\\\\\"]|\\\\\"|\\\\\\\\|\\\\[0nt])*?)\")"
   },
   "end_block" : {
      ".all" : [
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "RCURLY"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            "+max" : 1,
            ".ref" : "EOL"
         }
      ]
   },
   "expression" : {
      ".any" : [
         {
            ".ref" : "lhs_op_rhs"
         },
         {
            ".ref" : "lhs_op"
         },
         {
            ".ref" : "op_rhs"
         }
      ]
   },
   "header" : {
      ".any" : [
         {
            ".ref" : "uc_config"
         },
         {
            ".ref" : "comment"
         }
      ]
   },
   "identifier" : {
      ".rgx" : "([a-zA-Z][0-9A-Za-z_]*)"
   },
   "instruction" : {
      ".all" : [
         {
            ".ref" : "name"
         },
         {
            "+min" : 0,
            ".ref" : "values"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "SEMI"
         },
         {
            "+max" : 1,
            ".ref" : "EOL"
         }
      ]
   },
   "lhs_op" : {
      ".all" : [
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "variable"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "operator"
         },
         {
            "+max" : 1,
            ".ref" : "SEMI"
         },
         {
            "+max" : 1,
            ".ref" : "EOL"
         }
      ]
   },
   "lhs_op_rhs" : {
      ".all" : [
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "variable"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "operator"
         },
         {
            ".ref" : "value"
         },
         {
            ".ref" : "SEMI"
         },
         {
            "+max" : 1,
            ".ref" : "EOL"
         }
      ]
   },
   "name" : {
      ".all" : [
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "identifier"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         }
      ]
   },
   "number" : {
      ".rgx" : "(0x[0-9a-fA-F]+|0X[0-9a-fA-F]+|[0-9]+)"
   },
   "number_units" : {
      ".all" : [
         {
            ".ref" : "number"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "units"
         }
      ]
   },
   "op_rhs" : {
      ".all" : [
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "operator"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "variable"
         },
         {
            "+max" : 1,
            ".ref" : "SEMI"
         },
         {
            "+max" : 1,
            ".ref" : "EOL"
         }
      ]
   },
   "operator" : {
      ".rgx" : "((?:!|=|%|\\^|&|\\*|\\~|\\-|\\+|\\||/|<|>){1,2})"
   },
   "program" : {
      ".all" : [
         {
            ".ref" : "uc_select"
         },
         {
            "+min" : 0,
            ".ref" : "header"
         },
         {
            "+min" : 0,
            ".ref" : "statement"
         },
         {
            ".ref" : "EOS"
         }
      ]
   },
   "single_quoted_string" : {
      ".rgx" : "(?:'((?:[^\\n\\\\']|\\\\'|\\\\\\\\)*?)')"
   },
   "start_block" : {
      ".all" : [
         {
            ".ref" : "name"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "LCURLY"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            "+max" : 1,
            ".ref" : "EOL"
         }
      ]
   },
   "statement" : {
      ".any" : [
         {
            ".ref" : "comment"
         },
         {
            ".ref" : "instruction"
         },
         {
            ".ref" : "expression"
         },
         {
            ".ref" : "block"
         }
      ]
   },
   "string" : {
      ".any" : [
         {
            ".ref" : "single_quoted_string"
         },
         {
            ".ref" : "double_quoted_string"
         }
      ]
   },
   "uc_config" : {
      ".all" : [
         {
            ".rgx" : "config"
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".ref" : "name"
         },
         {
            ".ref" : "config_expression"
         },
         {
            ".ref" : "SEMI"
         },
         {
            ".ref" : "EOL"
         }
      ]
   },
   "uc_select" : {
      ".rgx" : "PIC[\\ \\t]+((?i:P16F690|P16F690X));\\r?\\n"
   },
   "units" : {
      ".rgx" : "(s|ms|us)"
   },
   "validated_variable" : {
      ".ref" : "identifier"
   },
   "value" : {
      ".all" : [
         {
            "+min" : 0,
            ".ref" : "whitespace"
         },
         {
            ".any" : [
               {
                  ".ref" : "string"
               },
               {
                  ".ref" : "number_units"
               },
               {
                  ".ref" : "number"
               },
               {
                  ".ref" : "variable"
               },
               {
                  ".ref" : "block"
               },
               {
                  ".ref" : "validated_variable"
               }
            ]
         },
         {
            "+min" : 0,
            ".ref" : "whitespace"
         }
      ]
   },
   "value_comma" : {
      ".all" : [
         {
            ".ref" : "value"
         },
         {
            ".rgx" : ","
         }
      ]
   },
   "values" : {
      ".all" : [
         {
            "+min" : 0,
            ".ref" : "value_comma"
         },
         {
            ".ref" : "value"
         }
      ]
   },
   "variable" : {
      ".all" : [
         {
            ".ref" : "DOLLAR"
         },
         {
            ".ref" : "identifier"
         }
      ]
   },
   "whitespace" : {
      ".rgx" : "[\\ \\t]+"
   }
}
